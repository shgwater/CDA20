# Python语法

## 第二章Python基础语法

### 标识符
- 第一个字符必须是字母表中的字母或者下划线
- 大小写敏感。
- 其它组成部分为字母数字下划线

### 等号：
“=”含义为赋值，用来定义变量

### Python保留字
``` python
import keyword
print(keyword.kwlist)
```

### 注释：
# 或 （``` code ```)

### 行与缩进
可用分号进行分割，但是推荐用行进行分割。

### 输入和输出：
Python提供了一个input()，可以让用户输入字符串，并存放到一个变量中。 ，
print()在括号中加上字符串，就可以向屏幕上输出指定文字。

### 变量

- Python中的变量处需要声明。每个变量在使用前都必须赋值，变量赋值之后该变量才会被创建。
- 在Python中个，变量就是变量，它没有类型，我们所说的类型是变量内存中对象的类型。
- 使用（=）进行赋值。



#### 自增运算

e.g. >>> a = a+1
or >>> a+=1

|运算符| 描述 | 实例 |
| --- | --- |--- |
| = | 简单的赋值运算符 | c= a+b 将a+b的结果赋值为c |
| += | 加法赋值运算 |b += a 等价于 b = b+a |
| -= | 减法赋值运算 | b -= a 等价于b = b-a |
| x= | 乘法赋值运算符 | b x= 等价于 b= bxa|
| /= | 除法赋值运算 | b /= a 等价于 b=b/a |
| %= | 取模赋值预算 | b=b%a |
|xx=|幂赋值运算||
 | //= | 取整除赋值运算符 | |
 

#### 多个变量赋值
``` python
a = b= c=1
e,f,g=1,2,"runoob"
#星号表示不定长，例如
a,*b,c=1,2,3,4,5
#此时b为一个列表
```

#### 分支主题

## 第三章 标准数据类型

使用 type(a)来查看变量类型。
使用isinstance(3,int)查看3是否为整数，返回布尔值。

- 布尔值 True 和 False,其中0和空序列 为True

### 1.布尔值 booleans

#### 布尔运算（and,or,not)

### 2.数字Numbers

#### 整数int

#### 小数float

注意，可以用int函数或者整除来将小数型的数据经过运算转化为整型数据。

第一个不同。
小数在Python中是不精确存储，可以使用包import decimal来解决。
e.g.
decimal.Decimal("1.1")+decimal.Decimal("1.1")+decimal.Decimal("1.1")
此时为精确计算。

第二个不同。
整数存储赋值，使用id()查看对象的内存存储位置。当整数小于256时，python内部有，可以直接调用。但是浮点类型是不精确存储的，每次新建都是重新创建对象。


#### 数字间的转换。

#### 比较运算符与布尔运算？

### 3.字符串Strings

字符串是以单引号'或双引号"括起来的任意文本。
字符串不可修改。
字符串位置是从0开始的。

#### 切片函数:[]

String_1[x:y:z]
- x起始位置
- y终止位置
- 步长
- 起始位置包含起始位置的索引，终止位置不包括终止位置的索引。
- 步长默认为1.

e.g.
str_1[::2]
步长为2.

#### 字符串运算符

##### "python"+"python"
"python""ssss"

##### "python"*3

#### 转义字符 "\"

##### \n 
换行

##### \t
表示制表符,tab键，相当于四个空格。

##### \\
表示 \，只在字符串中有效。

##### r''或者R''
用r''表示''内字符串默认不转义，也就是使用原生字符串。

#### 多行字符串

三双引号是用来多行注释的，但是换行符会用 \n 来表示。
e.g.
``` python

"""
a 是一个数字
b 是一个字符串
c 是一个列表
"""

```
返回
``` python
'\na 是一个数字\nb 是一个字符串\nc 是一个列表\n'
```



#### 常用字符串方法

字符串练习
练习1.1：
已知字符串 s = “sadINDUionaREwSS” ，能否将该字符串前半部分转换大写，后半部分转换成小写？为什么？（若字符串长度为奇数，中间的字符大写。）
``` python
s = "sadINDUionaREwSS"
s[0:int(len(s)/2)].upper()+s[int(len(s)/2):].lower()
```
练习1.2：
请生成字符串s3，s3为s进行逆序排序的结果。
``` python
for i in range(15):
    s3=s3+s[15-i]
    
s3=s[::-1]
```
练习1.3：
请基于练习一中的截取s中奇数位并转化为大写，截取s中偶数位并转换为小写。
``` python
for i in range(int(len(s))):
    if i % 2 == 0:
        s1_3=s1_3+s[i].lower()
    else:
        s1_3=s1_3+s[i].upper()
    print(s1_3)
    
    
s[::2].upper()
s[1::2].lower()
```
练习1.4：
"2017/10/15 14:15:45"这个时间的字符串，请截取年份，月份，日期，时，分，秒
``` python
time.split("/")[0]
time.split("/")[1]
time.split("/")[2].split(" ")[0]
time.split("/")[2].split(" ")[1].split(":")[0]
```
练习1.5：
用input输入一个数字的字符串，然后转换成整型，然后乘以5加上8计算后转换成字符串输出
``` python
str(int(a)*5+8)
```
练习1.6：
str10="aabbccddeeabbbadddd"将用A将前2个a替换，然后用find函数返回最后一个a的索引
``` python
str10.rfind["a"]
```

##### 大小写
string.upper()
string.lower()

##### 替换
string.replace("y","Y",2); 2表示一共替换几个。

##### 切分函数
string.split('t')#一个参数，参数为分隔符。如果没有的话，默认使用空格进行切分。

##### 拼接方法
"th".join(['py','on py','on']);使用th把序列中的元素拼接到一起。如果后面是一个字符串，则在字符串的每个单元之间拼接th。

##### 计数
string.count("y")

##### 去掉空格
string.strip();string.lstrip();string.rstrip()

##### 查找字母位置
string.find("y",4,7)在4到7的位置上找y。

##### 格式化字符串
注意，format前面为“点”不是“逗号”
for i in range(4):
	print("i的值为{}，i的平方为{}，i的立方为{}".format(i,i**2,i**3))

##### in
"a" in str_2;判断a是否在字符串中，返回值为布尔值。

### 4. 列表
列表就是用来存储一连串元素的有序的容器，用[]来表示。

``` python 
L=[1,2,3,4,"str"]

L[0]=78
```
与字符串有重要区别，列表是可以修改的。
赋值不需要位数相等，但是需要值也为列表形式。**赋值需要前后类型相同。但是个数不一定相同。**
``` python 
L[1:3]=[45]  #成功
L[1:3]=45  #失败，需要前后的类型相同。

```

#### 常用方法

练习1.7：
列表L，[2,5,3,8,10,1],对其进行升序排序并输出
``` python
L=[2,5,3,8,10,1]
L.sort(reverse=False)
L
```

练习1.8：
字符串s，"123456"，将其转化成列表逆序并输出
``` python
S=list(s)
S.reverse()
S
```
练习1.9：
l=[1,2,3]有几种方法可以扩展成[1,2,3,4,5,6]
``` python
L.extend([4,5,6])
L+[4,5,6]
```

练习1.10：
List=[1,3,5,7,9,0,2,4,6,8]使用切片得到[4, 0, 7]，[5, 9, 2, 6]
``` python
List[7:2:-2]
List[2::2
```

##### 添加元素
L.append("x");不管x是什么对象类型，只能添加成原有列表中的一个元素。

##### 减少元素
L.pop()

删除列表中最后一个元素，然后返回这个元素。


##### 插入元素
L.insert(1,"python");将“python”这个字符串插到索引为1的位置

##### 拼接列表
L.extend([5,6,7]);吧[5,6,7]和L进行拼接，与append相比，会将列表连接在原列表后。

##### 列表运算
加法为拼接，乘法为复制n次

##### 计数
L.count(4)

##### 索引切片
L[-1][1]

##### 移除元素
L.remove(45)，参数为列表里面的值

##### 逆序/降序
L.reverse()与L[::-1]不同。

##### 排序
需要列表内元素是同质的，或者有一定规则可以排序。

``` python
L=[1,3,2,7,3]
L.sort()
L1=["aaabbd","ccccddddd","ffsas"]
L1.sort(key=len) #按照长度排序
L1.sort(key=len,reverse=Ture) #降序排列

```

##### 清空
L.clear()

##### list()
将字符串转化为列表

### 5.元组
与列表相似，但是不能修改。常用(34,55,66)表示。但是如果元组之中有列表的话，可以修改其中的列表。
可以这样理解，列表是一种容器，如果新建一个列表L=[1,2,3]然后查看它在内存中的位置id(L).然后向列表中添加元素L.append(4)，此时查看id(L)，会发现两个id相同，说明L没有变。

``` python
a= 4,5,6
a,b,c = 4,5,6

```

### 6.字典Dictionaries
字典使用 键-值（key-value）存储，具有极快的查找输入速度，也需要大量内存。
字典的每个key-value对用冒号分割。
字典中的每个 键key 是唯一的、不可变的，但是 值value 可以重复。 

dca={'Atom':25,'BIG':35,'Kid':40}

字典练习
练习1.11:
建一个字典，添加新的键值对，在此基础上更新另外一个字典，在将字典以列表的方式返回。
``` python
dict_1 = {"a":1,"b":2,"c":3}
type(dict_1)
dict_1["e"]=5
dict_1.update({"d":4})
list(dict_1.items())
```
练习1.12：
Dict={"d":"banana","a":"apple","b":"grape","c":"orange"}转换成列表用键进行排序。
``` python
l=list(Dict.items())
l.sort()
l
```
练习1.13：
d={"a":1,"b":2,"c":3},分别输出它的key与value。向其插入字典{"d":4}
``` python
d.keys()
d.values()
d_1={"d":4}
d.update(d_1)
d
```

#### 常用操作

##### 创建字典
dca={'Atom':25,'BIG':35,'Kid':40}

##### 新增键值对
dca["lucy"]=98

##### 修改键值对
dca["lucy"]=80

##### 查询键值对
dca["lucy''];根据键来找值。

##### 删除键值对
del dca["lucy"]

#### 常用方法

##### 删除键值对
dca.pop("lily","No Such Key")
好处是不太容易删错

##### 增加键值对
dca.update({"a":2,"c":5})

##### 转化为列表
list(dca.item())

##### 校验增加
如果dca中存在BIG，则返回字典中BIG的值，如果没有的话，将BIG插入到dca中。
dca.setdefault("BIG",11)

##### 返回键/值
dca.keys()
dca.value()

### 7.集合
set和idct类似，为一组key的集合，但不存储value。由于key不能重复，所以在set中不能有重复的值。
是无序的。

### 8.空值
None，Python中的特殊值。

## 第四章 控制流语句

**使用缩进来控制语句层级**同缩进的代码被认为是同等级的代码。 

练习1.16：
打印出所有的“水仙花数”，所谓“水仙花数”是指一个三位数，其各位数字立方和
``` python
I=[]
for i in range(100,1000):
    i=str(i)
    if int(i)==int(i[0])**3+int(i[1])**3+int(i[2])**3:
        
        I+=[int(i)]
print(I)
```
练习1.17：
有四个数字：1、2、3、4，能组成多少个互不相同且无重复数字的三位数？各是多少？
``` python 
I=[]
for i in range(1,5):
    for j in range(1,5):
        for k in range(1,5):
            #if i!=j!=k:
            if i!=j and j!=k and i!=k:
                I+=[int(str(i)+str(j)+str(k))]
len(I)
```
练习1.24:
**华为2016校招（字符集合）**
题目描述
输入一个字符串，求出该字符串包含的字符集合
输出描述:
每组数据一行，按字符串原有的字符顺序，输出字符集合，即重复出现并靠后的字母不输出。 输入例子:
abcqweracb
输出例子:
abcqwer
``` python
S=input("请输入一串字母：")
S_1=S[0]
for i in range(0,len(S)):
    if S[i] in S_1:
        S_1=S_1
        #continue
    else:
        S_1+=S[i]
print(S_1)

#第二种方法
"".join(sorted(set(S_1),key=S_1.find))
#先化为集合，因为集合的性质是不能有重复值，但是集合是无序的。
#所以需要使用sorted()函数进行排序，是一个高级函数。
#排序的依据是原字符串的索引。key=S_1.find 或者 key=S_1.index
#最后使用字符串的join方法将这些单独的字符串连接起来。
```


### 第一节 顺序结构
就是普通的从上到下的代码结构。
顺序结构，自上而下逐条运行

### 第二节 分支结构
Python条件语句是通过一条或多条语句的执行结果（True或False）来决定执行的代码块。

``` python
#条件判断要求其为布尔值。
if<条件判断1>:
	<执行语句块1>
elif<条件判断2>:
	<执行语句块2>
else:
	<执行语句块3>
    
age = input("Enter Your Age:")

if int(age) > 60:
    print("old man")
elif int(age) > 28:
    print("adult")
else:
    print("child")
```
企业发放的奖金根据利润提成。利润(I)低于或等于10万元时，奖金可提10%；利润高于10万元，低于20万元时，低于10万元的部分按10%提成，高于10万元的部分，可提成7.5%；20万到40万之间时，高于20万元的部分，可提成5%；40万到60万之间时高于40万元的部分，可提成3%；60万到100万之间时，高于60万元的部分，可提成1.5%，高于100万元时，超过100万元的部分按1%提成，从键盘输入当月利润I，求应发放奖金总数？
``` python
I=input("请输入当月利润（单位：万元）：")
if int(I)<=10:
    print(int(I)*0.1,"万元")
elif int(I) <= 20:
    print(10*0.1+(int(I)-10)*0.075,"万元")
elif int(I) <= 40:
    print(1.75+(int(I)-20)*0.05,"万元")
elif int(I) <= 60:
    print(2.75+(int(I)-40)*0.03,"万元")
elif int(I) <= 100:
    print(3.35+(int(I)-60)*0.015,"万元")
else:
    print(3.95+(int(I)-100)*0.01,"万元")
    
I=int(input("enter the price"))#可以在输入的时候就将其变为整型

#第二种方法
dollar = int(input("please enter profit:"))
profit = [100,60,40,20,10,0]
i = [0.01,0.015,0.03,0.05,0.075,0.1]
money = 0
for index in range(len(i)):
    if dollar>profit[index]:
        money+=(dollar-profit[index])*i[index]
        dollar=profit[index]
print(money)
    
```

### 第三节 循环结构
用来控制一段语句的重复执行。
**Python循环语句**
- Python中的循环语句有for和while。
- Python中通过条件判断来确定是否执行循环体。

#### while循环

``` python
while <条件判断>:
	<执行语句块1>
    #完成后再次返回while
else:
	<执行语句块2>#else在条件语句为false时执行else语句块
#else部分可以省略

#对列表进行循环判断
L = [4,6,7,8,10]
flag = 1
index = 0
while flag:
    if L[index]%2 == 0:
        print(L[index])
    else:
        flag = 0
    index = index+1
else:
    print("奇数的位置索引：",index-1)
#使用变量来控制while循环的停止，这样就不用使用break进行跳出了。
#使用index对列表中的对象使用切片器进行索引。
```

#### for循环
经常搭配range(1,10,2)使用，1为起始值，10为终止值，2为步长。只填一个数默认为终止值。函数默认从0开始计数。

``` python
for i in <可迭代对象>:
	<执行该语句块1>
else:
	<执行语句块2>#else中的语句会在循环正常执行完（即for不是通过break跳出而中断的）的情况下执行。
    
```
可迭代对象常用列表，元组也是可迭代对象。
``` python
for i in L[1,2,3,4]:
	print(i)#i相当于每次从L中取一个元素。
```
九九乘法表
``` python
for i in range(1,10):
    for j in range(1,10):
        if i>=j:
            print(i,"*",j,"=",i*j,end="")
    print()
```
字典中的值如何通过循环取出来。**重点在于，for后边的变量与in后面的对象的格式要相对应**
``` python
dict_1={"a":1,"b":2,"c":3}
dict_1
for i,j in dict_1.items():
    print("i={},j={}".format(i,j))

L=[(1,2,3),[4,5,6]]
#此时 * 表示不定量，j的结果为一个列表
for i,*j in L:
    print("i={},j={}".format(i,j))
```
 输入一个数字，输出它的二进制中的1的个数
 ``` python
 num = bin(int(input("please enter number:")))
count=0
for i in num[2:]:
    if i=="1":
        count=count+1
print("这个数字的二进制中包含1的个数为:{}".format(count))

#第二种方法
two=bin(int(input("aaa")))
two.count("1")
print(two,two.count("1"))

#求二进制中连续出现1最多的次数
len(max(bin(442)[2:].split("0"),key=len))
 ```
 
 
 
 


#### 终止语句
break语法用来终止最内层的循环

``` python
n = 6
while 1:
	if n%2 == 0:
    	print(n)
    else:
    	print(n**2)
    n-=1
    if n == 0:
    	break
```


#### continue
continue用来跳过最内层当前次的循环

#### pass占位语句
pass是空语句，是为了保持程序结构的完整性。
